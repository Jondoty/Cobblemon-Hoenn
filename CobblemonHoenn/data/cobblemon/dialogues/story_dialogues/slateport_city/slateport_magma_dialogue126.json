{
    "initializationAction": [
        "q.run_command('tag ' + q.player.username + ' add InDialogue');"
    ],
    "escapeAction": [],
    "speakers": {
        "stern": {
            "name": "Captain Stern",
            "face": {
                "type": "artificial",
                "modelType": "npc",
                "identifier": "cobblemon:stern",
                "isLeftSide": true
            }
        },
        "grunt": {
            "name": "Team Magma Grunt",
            "face": {
                "type": "artificial",
                "modelType": "npc",
                "identifier": "cobblemon:teammagmagruntm",
                "isLeftSide": false
            }
        },
        "grunt2": {
            "name": "Team Magma Grunt",
            "face": {
                "type": "artificial",
                "modelType": "npc",
                "identifier": "cobblemon:teammagmagruntm",
                "isLeftSide": true
            }
        },
        "player": {
         "face": "q.player.face(true);",
         "name": {
        "type": "expression",
        "expression": "q.player.username"
      }
    }
    },
    "pages": [
        {
            "id": "greeting",
            "speaker": "grunt",
            "lines": [
                "But, but... I'm a Team Magma Ace Grunt. How could I have lost?"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": [
                            "q.dialogue.set_page('page2');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "page2",
            "speaker": "grunt2",
            "lines": [
                "Mission complete!"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": [
                            "q.dialogue.set_page('page3');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "page3",
            "speaker": "grunt2",
            "lines": [
                "Let's head for the hideout and join the project to modify the submarine!"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": [
                            "q.dialogue.set_page('page4');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "page4",
            "speaker": "grunt",
            "lines": [
                "Yes! I can't wait to see the progress on the submarine."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": [
                            "q.run_command('particle cloud 2201 79 2704 1 1 1 0.15 300');",
                            "q.run_command('particle cloud 2201 79 2701 1 1 1 0.15 300');",
                            "q.run_command('tp @e[type=cobblemon:npc,x=2201,y=78,z=2704,dy=3] 10000000 -50000 -10000000');",
                            "q.run_command('tp @e[type=cobblemon:npc,x=2201,y=78,z=2701,dy=3] 10000000 -50000 -10000000');",
                            "q.dialogue.set_page('page5');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "page5",
            "speaker": "stern",
            "lines": [
                "M-modding?"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": [
                            "q.dialogue.set_page('page6');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "page6",
            "speaker": "stern",
            "lines": [
                "Those criminals..."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": [
                            "q.dialogue.set_page('page7');"]
                    }
                ]
            }
        },
        {
            "id": "page7",
            "speaker": "stern",
            "lines": [
                "What are they planning to do with my Submarine Explorer 1?"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page8');"
                    }
                ]
            }
        },
        {
            "id": "page8",
            "speaker": "stern",
            "lines": [
                "They can't be!"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page9');"
                    }
                ]
            }
        },
        {
            "id": "page9",
            "speaker": "stern",
            "lines": [
                "They can't be after the super-ancient Pokémon that slumbers at the bottom of the sea..."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page10');"
                    }
                ]
            }
        },
        {
            "id": "page10",
            "speaker": "stern",
            "lines": [
                {
                    "type": "expression",
                    "expression": "'' + q.player.username + '... I am sorry, but...';"
                }
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": [
                            "q.dialogue.set_page('page11');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "page11",
            "speaker": "stern",
            "lines": [
                "My stolen submarine..."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page12');"
                    }
                ]
            }
        },
        {
            "id": "page12",
            "speaker": "stern",
            "lines": [
                "It could bring an unimaginable disaster upon the world..."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page13');"
                    }
                ]
            }
        },
        {
            "id": "page13",
            "speaker": "stern",
            "lines": [
                "Someone has to get to their hideout in Lilycove and stop them! But I've got no chance alone!"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page14');"
                    }
                ]
            }
        },
        {
            "id": "page14",
            "speaker": "stern",
            "lines": [
                {
                    "type": "expression",
                    "expression": "'' + q.player.username + ', please... May I ask for your help?';"
                }
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page15');"
                    }
                ]
            }
        },
        {
            "id": "page15",
            "speaker": "stern",
            "lines": [
                "I can at least get you as far as Lilycove, where their hideout is..."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page16');"
                    }
                ]
            }
        },
        {
            "id": "page16",
            "speaker": "stern",
            "lines": [
                "Do you think you and your Pokémon could put a stop to them and save my sub from being used for evil? Please!"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Yes (Fast Travel)",
                        "value": "yes",
                        "action": "q.dialogue.set_page('page17');"
                    },
                    {
                        "text": "No",
                        "value": "no",
                        "action": "q.dialogue.set_page('page23');"
                    }
                ]
            }
        },
        {
            "id": "page17",
            "speaker": "stern",
            "lines": [
                "Thank you! We'll launch at once!"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": [
                            "q.run_command('execute as ' + q.player.username + ' run give @s minecraft:blindness 4 1 true');",
                            "q.run_command('execute as ' + q.player.username + ' run tp @s 2415.5 79 2587.5 180 14');",
                            "q.run_command('execute as ' + q.player.username + ' unless entity @e[x=2415,y=78,z=2585,dy=3,type=cobblemon:npc] run npcspawnat 2415 79 2585 stern_generic');",
                            "q.dialogue.set_page('page18');"]
                    }
                ]
            }
        },
        {
            "id": "page18",
            "speaker": "stern",
            "lines": [
                "We have arrived in Lilycove City."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page19');"
                    }
                ]
            }
        },
        {
            "id": "page19",
            "speaker": "stern",
            "lines": [
                "Those thieves who stole my submarine must be hiding out somewhere in this city..."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page20');"
                    }
                ]
            }
        },
        {
            "id": "page20",
            "speaker": "stern",
            "lines": [
                {
                    "type": "expression",
                    "expression": "'' + q.player.username + ', please...';"
                }
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page21');"
                    }
                ]
            }
        },
        {
            "id": "page21",
            "speaker": "stern",
            "lines": [
                "Find my sub for me..."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Next",
                        "value": "next",
                        "action": "q.dialogue.set_page('page22');"
                    }
                ]
            }
        },
        {
            "id": "page22",
            "speaker": "stern",
            "lines": [
                "I'll be heading back to the shipyard in Slateport to start dealing with the aftermath of all this..."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Close",
                        "value": "close",
                        "action": [
                            "q.run_command('particle cloud 2415 79 2585 1 1 1 0.15 300');",
                            "q.run_command('tp @e[type=cobblemon:npc,x=2415,y=79,z=2585,dy=3] 10000000 -50000 -10000000');",
                            "q.run_command('tag ' + q.player.username + ' add Dialogue127');",
                            "q.run_command('tag ' + q.player.username + ' remove InDialogue');",
                            "q.dialogue.close();"
                        ]
                    }
                ]
            }
        },


        {
            "id": "page23",
            "speaker": "stern",
            "lines": [
                "O-oh... Tell me if you change your mind. There's no one else I can ask..."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Close",
                        "value": "close",
                        "action": [
                            "q.run_command('tag ' + q.player.username + ' add Dialogue127');",
                            "q.run_command('tag ' + q.player.username + ' remove InDialogue');",
                            "q.dialogue.close();"
                        ]
                    }
                ]
            }
        }
    ]
}